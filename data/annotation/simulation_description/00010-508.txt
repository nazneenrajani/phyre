The cup with the ball slides down the black ball until it collides with the purple bar.  At that point the green ball is released.
